{"ast":null,"code":"var binaryFeatures = {};\nbinaryFeatures.useBlobBuilder = function () {\n  try {\n    new Blob([]);\n    return false;\n  } catch (e) {\n    return true;\n  }\n}();\nbinaryFeatures.useArrayBufferView = !binaryFeatures.useBlobBuilder && function () {\n  try {\n    return new Blob([new Uint8Array([])]).size === 0;\n  } catch (e) {\n    return true;\n  }\n}();\nmodule.exports.binaryFeatures = binaryFeatures;\nvar BlobBuilder = module.exports.BlobBuilder;\nif (typeof window !== 'undefined') {\n  BlobBuilder = module.exports.BlobBuilder = window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder || window.BlobBuilder;\n}\nfunction BufferBuilder() {\n  this._pieces = [];\n  this._parts = [];\n}\nBufferBuilder.prototype.append = function (data) {\n  if (typeof data === 'number') {\n    this._pieces.push(data);\n  } else {\n    this.flush();\n    this._parts.push(data);\n  }\n};\nBufferBuilder.prototype.flush = function () {\n  if (this._pieces.length > 0) {\n    var buf = new Uint8Array(this._pieces);\n    if (!binaryFeatures.useArrayBufferView) {\n      buf = buf.buffer;\n    }\n    this._parts.push(buf);\n    this._pieces = [];\n  }\n};\nBufferBuilder.prototype.getBuffer = function () {\n  this.flush();\n  if (binaryFeatures.useBlobBuilder) {\n    var builder = new BlobBuilder();\n    for (var i = 0, ii = this._parts.length; i < ii; i++) {\n      builder.append(this._parts[i]);\n    }\n    return builder.getBlob();\n  } else {\n    return new Blob(this._parts);\n  }\n};\nmodule.exports.BufferBuilder = BufferBuilder;","map":{"version":3,"names":["binaryFeatures","useBlobBuilder","Blob","e","useArrayBufferView","Uint8Array","size","module","exports","BlobBuilder","window","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","BufferBuilder","_pieces","_parts","prototype","append","data","push","flush","length","buf","buffer","getBuffer","builder","i","ii","getBlob"],"sources":["G:/Software/github/video-conference/client/node_modules/peerjs-js-binarypack/lib/bufferbuilder.js"],"sourcesContent":["var binaryFeatures = {};\r\nbinaryFeatures.useBlobBuilder = (function () {\r\n  try {\r\n    new Blob([]);\r\n    return false;\r\n  } catch (e) {\r\n    return true;\r\n  }\r\n})();\r\n\r\nbinaryFeatures.useArrayBufferView = !binaryFeatures.useBlobBuilder && (function () {\r\n  try {\r\n    return (new Blob([new Uint8Array([])])).size === 0;\r\n  } catch (e) {\r\n    return true;\r\n  }\r\n})();\r\n\r\nmodule.exports.binaryFeatures = binaryFeatures;\r\nvar BlobBuilder = module.exports.BlobBuilder;\r\nif (typeof window !== 'undefined') {\r\n  BlobBuilder = module.exports.BlobBuilder = window.WebKitBlobBuilder ||\r\n    window.MozBlobBuilder || window.MSBlobBuilder || window.BlobBuilder;\r\n}\r\n\r\nfunction BufferBuilder () {\r\n  this._pieces = [];\r\n  this._parts = [];\r\n}\r\n\r\nBufferBuilder.prototype.append = function (data) {\r\n  if (typeof data === 'number') {\r\n    this._pieces.push(data);\r\n  } else {\r\n    this.flush();\r\n    this._parts.push(data);\r\n  }\r\n};\r\n\r\nBufferBuilder.prototype.flush = function () {\r\n  if (this._pieces.length > 0) {\r\n    var buf = new Uint8Array(this._pieces);\r\n    if (!binaryFeatures.useArrayBufferView) {\r\n      buf = buf.buffer;\r\n    }\r\n    this._parts.push(buf);\r\n    this._pieces = [];\r\n  }\r\n};\r\n\r\nBufferBuilder.prototype.getBuffer = function () {\r\n  this.flush();\r\n  if (binaryFeatures.useBlobBuilder) {\r\n    var builder = new BlobBuilder();\r\n    for (var i = 0, ii = this._parts.length; i < ii; i++) {\r\n      builder.append(this._parts[i]);\r\n    }\r\n    return builder.getBlob();\r\n  } else {\r\n    return new Blob(this._parts);\r\n  }\r\n};\r\n\r\nmodule.exports.BufferBuilder = BufferBuilder;\r\n"],"mappings":"AAAA,IAAIA,cAAc,GAAG,CAAC,CAAC;AACvBA,cAAc,CAACC,cAAc,GAAI,YAAY;EAC3C,IAAI;IACF,IAAIC,IAAI,CAAC,EAAE,CAAC;IACZ,OAAO,KAAK;EACd,CAAC,CAAC,OAAOC,CAAC,EAAE;IACV,OAAO,IAAI;EACb;AACF,CAAC,EAAG;AAEJH,cAAc,CAACI,kBAAkB,GAAG,CAACJ,cAAc,CAACC,cAAc,IAAK,YAAY;EACjF,IAAI;IACF,OAAQ,IAAIC,IAAI,CAAC,CAAC,IAAIG,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC,CAAEC,IAAI,KAAK,CAAC;EACpD,CAAC,CAAC,OAAOH,CAAC,EAAE;IACV,OAAO,IAAI;EACb;AACF,CAAC,EAAG;AAEJI,MAAM,CAACC,OAAO,CAACR,cAAc,GAAGA,cAAc;AAC9C,IAAIS,WAAW,GAAGF,MAAM,CAACC,OAAO,CAACC,WAAW;AAC5C,IAAI,OAAOC,MAAM,KAAK,WAAW,EAAE;EACjCD,WAAW,GAAGF,MAAM,CAACC,OAAO,CAACC,WAAW,GAAGC,MAAM,CAACC,iBAAiB,IACjED,MAAM,CAACE,cAAc,IAAIF,MAAM,CAACG,aAAa,IAAIH,MAAM,CAACD,WAAW;AACvE;AAEA,SAASK,aAAa,GAAI;EACxB,IAAI,CAACC,OAAO,GAAG,EAAE;EACjB,IAAI,CAACC,MAAM,GAAG,EAAE;AAClB;AAEAF,aAAa,CAACG,SAAS,CAACC,MAAM,GAAG,UAAUC,IAAI,EAAE;EAC/C,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;IAC5B,IAAI,CAACJ,OAAO,CAACK,IAAI,CAACD,IAAI,CAAC;EACzB,CAAC,MAAM;IACL,IAAI,CAACE,KAAK,EAAE;IACZ,IAAI,CAACL,MAAM,CAACI,IAAI,CAACD,IAAI,CAAC;EACxB;AACF,CAAC;AAEDL,aAAa,CAACG,SAAS,CAACI,KAAK,GAAG,YAAY;EAC1C,IAAI,IAAI,CAACN,OAAO,CAACO,MAAM,GAAG,CAAC,EAAE;IAC3B,IAAIC,GAAG,GAAG,IAAIlB,UAAU,CAAC,IAAI,CAACU,OAAO,CAAC;IACtC,IAAI,CAACf,cAAc,CAACI,kBAAkB,EAAE;MACtCmB,GAAG,GAAGA,GAAG,CAACC,MAAM;IAClB;IACA,IAAI,CAACR,MAAM,CAACI,IAAI,CAACG,GAAG,CAAC;IACrB,IAAI,CAACR,OAAO,GAAG,EAAE;EACnB;AACF,CAAC;AAEDD,aAAa,CAACG,SAAS,CAACQ,SAAS,GAAG,YAAY;EAC9C,IAAI,CAACJ,KAAK,EAAE;EACZ,IAAIrB,cAAc,CAACC,cAAc,EAAE;IACjC,IAAIyB,OAAO,GAAG,IAAIjB,WAAW,EAAE;IAC/B,KAAK,IAAIkB,CAAC,GAAG,CAAC,EAAEC,EAAE,GAAG,IAAI,CAACZ,MAAM,CAACM,MAAM,EAAEK,CAAC,GAAGC,EAAE,EAAED,CAAC,EAAE,EAAE;MACpDD,OAAO,CAACR,MAAM,CAAC,IAAI,CAACF,MAAM,CAACW,CAAC,CAAC,CAAC;IAChC;IACA,OAAOD,OAAO,CAACG,OAAO,EAAE;EAC1B,CAAC,MAAM;IACL,OAAO,IAAI3B,IAAI,CAAC,IAAI,CAACc,MAAM,CAAC;EAC9B;AACF,CAAC;AAEDT,MAAM,CAACC,OAAO,CAACM,aAAa,GAAGA,aAAa"},"metadata":{},"sourceType":"script"}