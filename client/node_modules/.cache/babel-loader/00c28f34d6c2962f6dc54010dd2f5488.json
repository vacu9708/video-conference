{"ast":null,"code":"/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shimGetDisplayMedia = shimGetDisplayMedia;\nfunction shimGetDisplayMedia(window, getSourceId) {\n  if (window.navigator.mediaDevices && 'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!window.navigator.mediaDevices) {\n    return;\n  }\n  // getSourceId is a function that returns a promise resolving with\n  // the sourceId of the screen/window/tab to be shared.\n  if (typeof getSourceId !== 'function') {\n    console.error('shimGetDisplayMedia: getSourceId argument is not ' + 'a function');\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia = function getDisplayMedia(constraints) {\n    return getSourceId(constraints).then(function (sourceId) {\n      var widthSpecified = constraints.video && constraints.video.width;\n      var heightSpecified = constraints.video && constraints.video.height;\n      var frameRateSpecified = constraints.video && constraints.video.frameRate;\n      constraints.video = {\n        mandatory: {\n          chromeMediaSource: 'desktop',\n          chromeMediaSourceId: sourceId,\n          maxFrameRate: frameRateSpecified || 3\n        }\n      };\n      if (widthSpecified) {\n        constraints.video.mandatory.maxWidth = widthSpecified;\n      }\n      if (heightSpecified) {\n        constraints.video.mandatory.maxHeight = heightSpecified;\n      }\n      return window.navigator.mediaDevices.getUserMedia(constraints);\n    });\n  };\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","shimGetDisplayMedia","window","getSourceId","navigator","mediaDevices","console","error","getDisplayMedia","constraints","then","sourceId","widthSpecified","video","width","heightSpecified","height","frameRateSpecified","frameRate","mandatory","chromeMediaSource","chromeMediaSourceId","maxFrameRate","maxWidth","maxHeight","getUserMedia"],"sources":["G:/Software/github/video-conference/client/node_modules/webrtc-adapter/dist/chrome/getdisplaymedia.js"],"sourcesContent":["/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shimGetDisplayMedia = shimGetDisplayMedia;\nfunction shimGetDisplayMedia(window, getSourceId) {\n  if (window.navigator.mediaDevices && 'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!window.navigator.mediaDevices) {\n    return;\n  }\n  // getSourceId is a function that returns a promise resolving with\n  // the sourceId of the screen/window/tab to be shared.\n  if (typeof getSourceId !== 'function') {\n    console.error('shimGetDisplayMedia: getSourceId argument is not ' + 'a function');\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia = function getDisplayMedia(constraints) {\n    return getSourceId(constraints).then(function (sourceId) {\n      var widthSpecified = constraints.video && constraints.video.width;\n      var heightSpecified = constraints.video && constraints.video.height;\n      var frameRateSpecified = constraints.video && constraints.video.frameRate;\n      constraints.video = {\n        mandatory: {\n          chromeMediaSource: 'desktop',\n          chromeMediaSourceId: sourceId,\n          maxFrameRate: frameRateSpecified || 3\n        }\n      };\n      if (widthSpecified) {\n        constraints.video.mandatory.maxWidth = widthSpecified;\n      }\n      if (heightSpecified) {\n        constraints.video.mandatory.maxHeight = heightSpecified;\n      }\n      return window.navigator.mediaDevices.getUserMedia(constraints);\n    });\n  };\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,mBAAmB,GAAGA,mBAAmB;AACjD,SAASA,mBAAmB,CAACC,MAAM,EAAEC,WAAW,EAAE;EAChD,IAAID,MAAM,CAACE,SAAS,CAACC,YAAY,IAAI,iBAAiB,IAAIH,MAAM,CAACE,SAAS,CAACC,YAAY,EAAE;IACvF;EACF;EACA,IAAI,CAACH,MAAM,CAACE,SAAS,CAACC,YAAY,EAAE;IAClC;EACF;EACA;EACA;EACA,IAAI,OAAOF,WAAW,KAAK,UAAU,EAAE;IACrCG,OAAO,CAACC,KAAK,CAAC,mDAAmD,GAAG,YAAY,CAAC;IACjF;EACF;EACAL,MAAM,CAACE,SAAS,CAACC,YAAY,CAACG,eAAe,GAAG,SAASA,eAAe,CAACC,WAAW,EAAE;IACpF,OAAON,WAAW,CAACM,WAAW,CAAC,CAACC,IAAI,CAAC,UAAUC,QAAQ,EAAE;MACvD,IAAIC,cAAc,GAAGH,WAAW,CAACI,KAAK,IAAIJ,WAAW,CAACI,KAAK,CAACC,KAAK;MACjE,IAAIC,eAAe,GAAGN,WAAW,CAACI,KAAK,IAAIJ,WAAW,CAACI,KAAK,CAACG,MAAM;MACnE,IAAIC,kBAAkB,GAAGR,WAAW,CAACI,KAAK,IAAIJ,WAAW,CAACI,KAAK,CAACK,SAAS;MACzET,WAAW,CAACI,KAAK,GAAG;QAClBM,SAAS,EAAE;UACTC,iBAAiB,EAAE,SAAS;UAC5BC,mBAAmB,EAAEV,QAAQ;UAC7BW,YAAY,EAAEL,kBAAkB,IAAI;QACtC;MACF,CAAC;MACD,IAAIL,cAAc,EAAE;QAClBH,WAAW,CAACI,KAAK,CAACM,SAAS,CAACI,QAAQ,GAAGX,cAAc;MACvD;MACA,IAAIG,eAAe,EAAE;QACnBN,WAAW,CAACI,KAAK,CAACM,SAAS,CAACK,SAAS,GAAGT,eAAe;MACzD;MACA,OAAOb,MAAM,CAACE,SAAS,CAACC,YAAY,CAACoB,YAAY,CAAChB,WAAW,CAAC;IAChE,CAAC,CAAC;EACJ,CAAC;AACH"},"metadata":{},"sourceType":"script"}