{"ast":null,"code":"/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\nexports.extractVersion = extractVersion;\nexports.wrapPeerConnectionEvent = wrapPeerConnectionEvent;\nexports.disableLog = disableLog;\nexports.disableWarnings = disableWarnings;\nexports.log = log;\nexports.deprecated = deprecated;\nexports.detectBrowser = detectBrowser;\nexports.compactObject = compactObject;\nexports.walkStats = walkStats;\nexports.filterStats = filterStats;\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nvar logDisabled_ = true;\nvar deprecationWarnings_ = true;\n\n/**\n * Extract browser version out of the provided user agent string.\n *\n * @param {!string} uastring userAgent string.\n * @param {!string} expr Regular expression used as match criteria.\n * @param {!number} pos position in the version string to be returned.\n * @return {!number} browser version.\n */\nfunction extractVersion(uastring, expr, pos) {\n  var match = uastring.match(expr);\n  return match && match.length >= pos && parseInt(match[pos], 10);\n}\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object (or false to prevent\n// the event).\nfunction wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  var proto = window.RTCPeerConnection.prototype;\n  var nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function (nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    var wrappedCallback = function wrappedCallback(e) {\n      var modifiedEvent = wrapper(e);\n      if (modifiedEvent) {\n        if (cb.handleEvent) {\n          cb.handleEvent(modifiedEvent);\n        } else {\n          cb(modifiedEvent);\n        }\n      }\n    };\n    this._eventMap = this._eventMap || {};\n    if (!this._eventMap[eventNameToWrap]) {\n      this._eventMap[eventNameToWrap] = new Map();\n    }\n    this._eventMap[eventNameToWrap].set(cb, wrappedCallback);\n    return nativeAddEventListener.apply(this, [nativeEventName, wrappedCallback]);\n  };\n  var nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function (nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap || !this._eventMap[eventNameToWrap]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    if (!this._eventMap[eventNameToWrap].has(cb)) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    var unwrappedCb = this._eventMap[eventNameToWrap].get(cb);\n    this._eventMap[eventNameToWrap].delete(cb);\n    if (this._eventMap[eventNameToWrap].size === 0) {\n      delete this._eventMap[eventNameToWrap];\n    }\n    if (Object.keys(this._eventMap).length === 0) {\n      delete this._eventMap;\n    }\n    return nativeRemoveEventListener.apply(this, [nativeEventName, unwrappedCb]);\n  };\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get: function get() {\n      return this['_on' + eventNameToWrap];\n    },\n    set: function set(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap, this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap, this['_on' + eventNameToWrap] = cb);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n}\nfunction disableLog(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + (typeof bool === 'undefined' ? 'undefined' : _typeof(bool)) + '. Please use a boolean.');\n  }\n  logDisabled_ = bool;\n  return bool ? 'adapter.js logging disabled' : 'adapter.js logging enabled';\n}\n\n/**\n * Disable or enable deprecation warnings\n * @param {!boolean} bool set to true to disable warnings.\n */\nfunction disableWarnings(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + (typeof bool === 'undefined' ? 'undefined' : _typeof(bool)) + '. Please use a boolean.');\n  }\n  deprecationWarnings_ = !bool;\n  return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n}\nfunction log() {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object') {\n    if (logDisabled_) {\n      return;\n    }\n    if (typeof console !== 'undefined' && typeof console.log === 'function') {\n      console.log.apply(console, arguments);\n    }\n  }\n}\n\n/**\n * Shows a deprecation warning suggesting the modern and spec-compatible API.\n */\nfunction deprecated(oldMethod, newMethod) {\n  if (!deprecationWarnings_) {\n    return;\n  }\n  console.warn(oldMethod + ' is deprecated, please use ' + newMethod + ' instead.');\n}\n\n/**\n * Browser detector.\n *\n * @return {object} result containing browser and version\n *     properties.\n */\nfunction detectBrowser(window) {\n  // Returned result object.\n  var result = {\n    browser: null,\n    version: null\n  };\n\n  // Fail early if it's not a browser\n  if (typeof window === 'undefined' || !window.navigator) {\n    result.browser = 'Not a browser.';\n    return result;\n  }\n  var navigator = window.navigator;\n  if (navigator.mozGetUserMedia) {\n    // Firefox.\n    result.browser = 'firefox';\n    result.version = extractVersion(navigator.userAgent, /Firefox\\/(\\d+)\\./, 1);\n  } else if (navigator.webkitGetUserMedia || window.isSecureContext === false && window.webkitRTCPeerConnection && !window.RTCIceGatherer) {\n    // Chrome, Chromium, Webview, Opera.\n    // Version matches Chrome/WebRTC version.\n    // Chrome 74 removed webkitGetUserMedia on http as well so we need the\n    // more complicated fallback to webkitRTCPeerConnection.\n    result.browser = 'chrome';\n    result.version = extractVersion(navigator.userAgent, /Chrom(e|ium)\\/(\\d+)\\./, 2);\n  } else if (navigator.mediaDevices && navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) {\n    // Edge.\n    result.browser = 'edge';\n    result.version = extractVersion(navigator.userAgent, /Edge\\/(\\d+).(\\d+)$/, 2);\n  } else if (window.RTCPeerConnection && navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) {\n    // Safari.\n    result.browser = 'safari';\n    result.version = extractVersion(navigator.userAgent, /AppleWebKit\\/(\\d+)\\./, 1);\n    result.supportsUnifiedPlan = window.RTCRtpTransceiver && 'currentDirection' in window.RTCRtpTransceiver.prototype;\n  } else {\n    // Default fallthrough: not supported.\n    result.browser = 'Not a supported browser.';\n    return result;\n  }\n  return result;\n}\n\n/**\n * Checks if something is an object.\n *\n * @param {*} val The something you want to check.\n * @return true if val is an object, false otherwise.\n */\nfunction isObject(val) {\n  return Object.prototype.toString.call(val) === '[object Object]';\n}\n\n/**\n * Remove all empty objects and undefined values\n * from a nested object -- an enhanced and vanilla version\n * of Lodash's `compact`.\n */\nfunction compactObject(data) {\n  if (!isObject(data)) {\n    return data;\n  }\n  return Object.keys(data).reduce(function (accumulator, key) {\n    var isObj = isObject(data[key]);\n    var value = isObj ? compactObject(data[key]) : data[key];\n    var isEmptyObject = isObj && !Object.keys(value).length;\n    if (value === undefined || isEmptyObject) {\n      return accumulator;\n    }\n    return Object.assign(accumulator, _defineProperty({}, key, value));\n  }, {});\n}\n\n/* iterates the stats graph recursively. */\nfunction walkStats(stats, base, resultSet) {\n  if (!base || resultSet.has(base.id)) {\n    return;\n  }\n  resultSet.set(base.id, base);\n  Object.keys(base).forEach(function (name) {\n    if (name.endsWith('Id')) {\n      walkStats(stats, stats.get(base[name]), resultSet);\n    } else if (name.endsWith('Ids')) {\n      base[name].forEach(function (id) {\n        walkStats(stats, stats.get(id), resultSet);\n      });\n    }\n  });\n}\n\n/* filter getStats for a sender/receiver track. */\nfunction filterStats(result, track, outbound) {\n  var streamStatsType = outbound ? 'outbound-rtp' : 'inbound-rtp';\n  var filteredResult = new Map();\n  if (track === null) {\n    return filteredResult;\n  }\n  var trackStats = [];\n  result.forEach(function (value) {\n    if (value.type === 'track' && value.trackIdentifier === track.id) {\n      trackStats.push(value);\n    }\n  });\n  trackStats.forEach(function (trackStat) {\n    result.forEach(function (stats) {\n      if (stats.type === streamStatsType && stats.trackId === trackStat.id) {\n        walkStats(result, stats, filteredResult);\n      }\n    });\n  });\n  return filteredResult;\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","_typeof","Symbol","iterator","obj","constructor","prototype","extractVersion","wrapPeerConnectionEvent","disableLog","disableWarnings","log","deprecated","detectBrowser","compactObject","walkStats","filterStats","_defineProperty","key","enumerable","configurable","writable","logDisabled_","deprecationWarnings_","uastring","expr","pos","match","length","parseInt","window","eventNameToWrap","wrapper","RTCPeerConnection","proto","nativeAddEventListener","addEventListener","nativeEventName","cb","apply","arguments","wrappedCallback","e","modifiedEvent","handleEvent","_eventMap","Map","set","nativeRemoveEventListener","removeEventListener","has","unwrappedCb","get","delete","size","keys","bool","Error","console","oldMethod","newMethod","warn","result","browser","version","navigator","mozGetUserMedia","userAgent","webkitGetUserMedia","isSecureContext","webkitRTCPeerConnection","RTCIceGatherer","mediaDevices","supportsUnifiedPlan","RTCRtpTransceiver","isObject","val","toString","call","data","reduce","accumulator","isObj","isEmptyObject","undefined","assign","stats","base","resultSet","id","forEach","name","endsWith","track","outbound","streamStatsType","filteredResult","trackStats","type","trackIdentifier","push","trackStat","trackId"],"sources":["G:/Software/github/video-conference/client/node_modules/webrtc-adapter/dist/utils.js"],"sourcesContent":["/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.extractVersion = extractVersion;\nexports.wrapPeerConnectionEvent = wrapPeerConnectionEvent;\nexports.disableLog = disableLog;\nexports.disableWarnings = disableWarnings;\nexports.log = log;\nexports.deprecated = deprecated;\nexports.detectBrowser = detectBrowser;\nexports.compactObject = compactObject;\nexports.walkStats = walkStats;\nexports.filterStats = filterStats;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar logDisabled_ = true;\nvar deprecationWarnings_ = true;\n\n/**\n * Extract browser version out of the provided user agent string.\n *\n * @param {!string} uastring userAgent string.\n * @param {!string} expr Regular expression used as match criteria.\n * @param {!number} pos position in the version string to be returned.\n * @return {!number} browser version.\n */\nfunction extractVersion(uastring, expr, pos) {\n  var match = uastring.match(expr);\n  return match && match.length >= pos && parseInt(match[pos], 10);\n}\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object (or false to prevent\n// the event).\nfunction wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  var proto = window.RTCPeerConnection.prototype;\n  var nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function (nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    var wrappedCallback = function wrappedCallback(e) {\n      var modifiedEvent = wrapper(e);\n      if (modifiedEvent) {\n        if (cb.handleEvent) {\n          cb.handleEvent(modifiedEvent);\n        } else {\n          cb(modifiedEvent);\n        }\n      }\n    };\n    this._eventMap = this._eventMap || {};\n    if (!this._eventMap[eventNameToWrap]) {\n      this._eventMap[eventNameToWrap] = new Map();\n    }\n    this._eventMap[eventNameToWrap].set(cb, wrappedCallback);\n    return nativeAddEventListener.apply(this, [nativeEventName, wrappedCallback]);\n  };\n\n  var nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function (nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap || !this._eventMap[eventNameToWrap]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    if (!this._eventMap[eventNameToWrap].has(cb)) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    var unwrappedCb = this._eventMap[eventNameToWrap].get(cb);\n    this._eventMap[eventNameToWrap].delete(cb);\n    if (this._eventMap[eventNameToWrap].size === 0) {\n      delete this._eventMap[eventNameToWrap];\n    }\n    if (Object.keys(this._eventMap).length === 0) {\n      delete this._eventMap;\n    }\n    return nativeRemoveEventListener.apply(this, [nativeEventName, unwrappedCb]);\n  };\n\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get: function get() {\n      return this['_on' + eventNameToWrap];\n    },\n    set: function set(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap, this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap, this['_on' + eventNameToWrap] = cb);\n      }\n    },\n\n    enumerable: true,\n    configurable: true\n  });\n}\n\nfunction disableLog(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + (typeof bool === 'undefined' ? 'undefined' : _typeof(bool)) + '. Please use a boolean.');\n  }\n  logDisabled_ = bool;\n  return bool ? 'adapter.js logging disabled' : 'adapter.js logging enabled';\n}\n\n/**\n * Disable or enable deprecation warnings\n * @param {!boolean} bool set to true to disable warnings.\n */\nfunction disableWarnings(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + (typeof bool === 'undefined' ? 'undefined' : _typeof(bool)) + '. Please use a boolean.');\n  }\n  deprecationWarnings_ = !bool;\n  return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n}\n\nfunction log() {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object') {\n    if (logDisabled_) {\n      return;\n    }\n    if (typeof console !== 'undefined' && typeof console.log === 'function') {\n      console.log.apply(console, arguments);\n    }\n  }\n}\n\n/**\n * Shows a deprecation warning suggesting the modern and spec-compatible API.\n */\nfunction deprecated(oldMethod, newMethod) {\n  if (!deprecationWarnings_) {\n    return;\n  }\n  console.warn(oldMethod + ' is deprecated, please use ' + newMethod + ' instead.');\n}\n\n/**\n * Browser detector.\n *\n * @return {object} result containing browser and version\n *     properties.\n */\nfunction detectBrowser(window) {\n  // Returned result object.\n  var result = { browser: null, version: null };\n\n  // Fail early if it's not a browser\n  if (typeof window === 'undefined' || !window.navigator) {\n    result.browser = 'Not a browser.';\n    return result;\n  }\n\n  var navigator = window.navigator;\n\n\n  if (navigator.mozGetUserMedia) {\n    // Firefox.\n    result.browser = 'firefox';\n    result.version = extractVersion(navigator.userAgent, /Firefox\\/(\\d+)\\./, 1);\n  } else if (navigator.webkitGetUserMedia || window.isSecureContext === false && window.webkitRTCPeerConnection && !window.RTCIceGatherer) {\n    // Chrome, Chromium, Webview, Opera.\n    // Version matches Chrome/WebRTC version.\n    // Chrome 74 removed webkitGetUserMedia on http as well so we need the\n    // more complicated fallback to webkitRTCPeerConnection.\n    result.browser = 'chrome';\n    result.version = extractVersion(navigator.userAgent, /Chrom(e|ium)\\/(\\d+)\\./, 2);\n  } else if (navigator.mediaDevices && navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) {\n    // Edge.\n    result.browser = 'edge';\n    result.version = extractVersion(navigator.userAgent, /Edge\\/(\\d+).(\\d+)$/, 2);\n  } else if (window.RTCPeerConnection && navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) {\n    // Safari.\n    result.browser = 'safari';\n    result.version = extractVersion(navigator.userAgent, /AppleWebKit\\/(\\d+)\\./, 1);\n    result.supportsUnifiedPlan = window.RTCRtpTransceiver && 'currentDirection' in window.RTCRtpTransceiver.prototype;\n  } else {\n    // Default fallthrough: not supported.\n    result.browser = 'Not a supported browser.';\n    return result;\n  }\n\n  return result;\n}\n\n/**\n * Checks if something is an object.\n *\n * @param {*} val The something you want to check.\n * @return true if val is an object, false otherwise.\n */\nfunction isObject(val) {\n  return Object.prototype.toString.call(val) === '[object Object]';\n}\n\n/**\n * Remove all empty objects and undefined values\n * from a nested object -- an enhanced and vanilla version\n * of Lodash's `compact`.\n */\nfunction compactObject(data) {\n  if (!isObject(data)) {\n    return data;\n  }\n\n  return Object.keys(data).reduce(function (accumulator, key) {\n    var isObj = isObject(data[key]);\n    var value = isObj ? compactObject(data[key]) : data[key];\n    var isEmptyObject = isObj && !Object.keys(value).length;\n    if (value === undefined || isEmptyObject) {\n      return accumulator;\n    }\n    return Object.assign(accumulator, _defineProperty({}, key, value));\n  }, {});\n}\n\n/* iterates the stats graph recursively. */\nfunction walkStats(stats, base, resultSet) {\n  if (!base || resultSet.has(base.id)) {\n    return;\n  }\n  resultSet.set(base.id, base);\n  Object.keys(base).forEach(function (name) {\n    if (name.endsWith('Id')) {\n      walkStats(stats, stats.get(base[name]), resultSet);\n    } else if (name.endsWith('Ids')) {\n      base[name].forEach(function (id) {\n        walkStats(stats, stats.get(id), resultSet);\n      });\n    }\n  });\n}\n\n/* filter getStats for a sender/receiver track. */\nfunction filterStats(result, track, outbound) {\n  var streamStatsType = outbound ? 'outbound-rtp' : 'inbound-rtp';\n  var filteredResult = new Map();\n  if (track === null) {\n    return filteredResult;\n  }\n  var trackStats = [];\n  result.forEach(function (value) {\n    if (value.type === 'track' && value.trackIdentifier === track.id) {\n      trackStats.push(value);\n    }\n  });\n  trackStats.forEach(function (trackStat) {\n    result.forEach(function (stats) {\n      if (stats.type === streamStatsType && stats.trackId === trackStat.id) {\n        walkStats(result, stats, filteredResult);\n      }\n    });\n  });\n  return filteredResult;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}