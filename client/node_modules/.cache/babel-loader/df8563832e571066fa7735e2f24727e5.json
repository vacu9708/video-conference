{"ast":null,"code":"/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\nexports.shimGetUserMedia = shimGetUserMedia;\nvar _utils = require('../utils');\nvar utils = _interopRequireWildcard(_utils);\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n    newObj.default = obj;\n    return newObj;\n  }\n}\nfunction shimGetUserMedia(window, browserDetails) {\n  var navigator = window && window.navigator;\n  var MediaStreamTrack = window && window.MediaStreamTrack;\n  navigator.getUserMedia = function (constraints, onSuccess, onError) {\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia', 'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n  if (!(browserDetails.version > 55 && 'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    var remap = function remap(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n    var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function (c) {\n      if ((typeof c === 'undefined' ? 'undefined' : _typeof(c)) === 'object' && _typeof(c.audio) === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      var nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function () {\n        var obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function (c) {\n        if (this.kind === 'audio' && (typeof c === 'undefined' ? 'undefined' : _typeof(c)) === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","_typeof","Symbol","iterator","obj","constructor","prototype","shimGetUserMedia","_utils","require","utils","_interopRequireWildcard","__esModule","newObj","key","hasOwnProperty","call","default","window","browserDetails","navigator","MediaStreamTrack","getUserMedia","constraints","onSuccess","onError","deprecated","mediaDevices","then","version","getSupportedConstraints","remap","a","b","nativeGetUserMedia","bind","c","audio","JSON","parse","stringify","getSettings","nativeGetSettings","apply","arguments","applyConstraints","nativeApplyConstraints","kind"],"sources":["G:/Software/github/video-conference/client/node_modules/webrtc-adapter/dist/firefox/getusermedia.js"],"sourcesContent":["/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.shimGetUserMedia = shimGetUserMedia;\n\nvar _utils = require('../utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction shimGetUserMedia(window, browserDetails) {\n  var navigator = window && window.navigator;\n  var MediaStreamTrack = window && window.MediaStreamTrack;\n\n  navigator.getUserMedia = function (constraints, onSuccess, onError) {\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia', 'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n\n  if (!(browserDetails.version > 55 && 'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    var remap = function remap(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function (c) {\n      if ((typeof c === 'undefined' ? 'undefined' : _typeof(c)) === 'object' && _typeof(c.audio) === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      var nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function () {\n        var obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function (c) {\n        if (this.kind === 'audio' && (typeof c === 'undefined' ? 'undefined' : _typeof(c)) === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}