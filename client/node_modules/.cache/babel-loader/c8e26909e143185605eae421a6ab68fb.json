{"ast":null,"code":"/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shimGetDisplayMedia = shimGetDisplayMedia;\nfunction shimGetDisplayMedia(window, preferredMediaSource) {\n  if (window.navigator.mediaDevices && 'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!window.navigator.mediaDevices) {\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia = function getDisplayMedia(constraints) {\n    if (!(constraints && constraints.video)) {\n      var err = new DOMException('getDisplayMedia without video ' + 'constraints is undefined');\n      err.name = 'NotFoundError';\n      // from https://heycam.github.io/webidl/#idl-DOMException-error-names\n      err.code = 8;\n      return Promise.reject(err);\n    }\n    if (constraints.video === true) {\n      constraints.video = {\n        mediaSource: preferredMediaSource\n      };\n    } else {\n      constraints.video.mediaSource = preferredMediaSource;\n    }\n    return window.navigator.mediaDevices.getUserMedia(constraints);\n  };\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","shimGetDisplayMedia","window","preferredMediaSource","navigator","mediaDevices","getDisplayMedia","constraints","video","err","DOMException","name","code","Promise","reject","mediaSource","getUserMedia"],"sources":["G:/Software/github/video-conference/client/node_modules/webrtc-adapter/dist/firefox/getdisplaymedia.js"],"sourcesContent":["/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shimGetDisplayMedia = shimGetDisplayMedia;\nfunction shimGetDisplayMedia(window, preferredMediaSource) {\n  if (window.navigator.mediaDevices && 'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!window.navigator.mediaDevices) {\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia = function getDisplayMedia(constraints) {\n    if (!(constraints && constraints.video)) {\n      var err = new DOMException('getDisplayMedia without video ' + 'constraints is undefined');\n      err.name = 'NotFoundError';\n      // from https://heycam.github.io/webidl/#idl-DOMException-error-names\n      err.code = 8;\n      return Promise.reject(err);\n    }\n    if (constraints.video === true) {\n      constraints.video = { mediaSource: preferredMediaSource };\n    } else {\n      constraints.video.mediaSource = preferredMediaSource;\n    }\n    return window.navigator.mediaDevices.getUserMedia(constraints);\n  };\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,mBAAmB,GAAGA,mBAAmB;AACjD,SAASA,mBAAmB,CAACC,MAAM,EAAEC,oBAAoB,EAAE;EACzD,IAAID,MAAM,CAACE,SAAS,CAACC,YAAY,IAAI,iBAAiB,IAAIH,MAAM,CAACE,SAAS,CAACC,YAAY,EAAE;IACvF;EACF;EACA,IAAI,CAACH,MAAM,CAACE,SAAS,CAACC,YAAY,EAAE;IAClC;EACF;EACAH,MAAM,CAACE,SAAS,CAACC,YAAY,CAACC,eAAe,GAAG,SAASA,eAAe,CAACC,WAAW,EAAE;IACpF,IAAI,EAAEA,WAAW,IAAIA,WAAW,CAACC,KAAK,CAAC,EAAE;MACvC,IAAIC,GAAG,GAAG,IAAIC,YAAY,CAAC,gCAAgC,GAAG,0BAA0B,CAAC;MACzFD,GAAG,CAACE,IAAI,GAAG,eAAe;MAC1B;MACAF,GAAG,CAACG,IAAI,GAAG,CAAC;MACZ,OAAOC,OAAO,CAACC,MAAM,CAACL,GAAG,CAAC;IAC5B;IACA,IAAIF,WAAW,CAACC,KAAK,KAAK,IAAI,EAAE;MAC9BD,WAAW,CAACC,KAAK,GAAG;QAAEO,WAAW,EAAEZ;MAAqB,CAAC;IAC3D,CAAC,MAAM;MACLI,WAAW,CAACC,KAAK,CAACO,WAAW,GAAGZ,oBAAoB;IACtD;IACA,OAAOD,MAAM,CAACE,SAAS,CAACC,YAAY,CAACW,YAAY,CAACT,WAAW,CAAC;EAChE,CAAC;AACH"},"metadata":{},"sourceType":"script"}